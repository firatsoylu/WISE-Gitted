{\rtf1\ansi\ansicpg1252\cocoartf1265\cocoasubrtf200
{\fonttbl\f0\fswiss\fcharset0 ArialMT;}
{\colortbl;\red255\green255\blue255;\red26\green26\blue26;}
\margl1440\margr1440\vieww10800\viewh8400\viewkind0
\deftab720
\pard\pardeftab720

\f0\i\b\fs24 \cf2 How do I get data from WISE into a format I can actually use?\
\

\i0\b0 There are two steps to getting the WISE data in a usable format. The first step is to pull the appropriate data down from the WISE server onto your local machine. And the second, is to restructure that data so that you can analyze it.\
\
\

\b STEP 1: Getting the data from the WISE server
\b0 \
\
First, you\'92ll need access to the SQL server \'97 request an account from Jason. Once you have an account with access, download MySQLWorkbench ({\field{\*\fldinst{HYPERLINK "http://dev.mysql.com/downloads/tools/workbench/"}}{\fldrslt http://dev.mysql.com/downloads/tools/workbench/}}). Make a new connection with the following info:\
\
Connection Method: \'93Standard TCP/IP over SSH\'94\
SSH Hostname: abmplus.tech.northwestern.edu:22\
SSH Username: *the username jason created for you*\
username: *the username jason created for you*\
\
Open a connection\
\
In the next screen you should see an area to type a Query.  Copy and paste the following:\
\
SELECT n.id, n.nodeid, n.nodetype, ui.workgroupid, wandu.username, r.id, r.name,wandu.sgender, prj.parentprojectid, s.data  FROM\
sail_database.runs r, \
sail_database.projects prj,\
vle_database.node n, \
vle_database.stepwork s,\
vle_database.userinfo ui,\
(SELECT w.id as workgroupid, ud.username as username, sud.gender as sgender, sud.birthday as sbirthday FROM\
sail_database.runs r,\
sail_database.workgroups w,\
sail_database.groups_related_to_users g,\
sail_database.users u,\
sail_database.student_user_details sud,\
sail_database.user_details ud\
WHERE\
r.name like \'91%PNoM%Test%' and \
r.id=w.offering_fk and\
w.group_fk=g.group_fk and\
g.user_fk=u.id and\
u.user_details_fk=sud.id and\
sud.id=ud.id) wandu\
WHERE\
r.name like \'91%PNoM%Test%' and \
r.start_time > '2013-11-1' and \
r.id=n.runid and \
n.id=s.node_id and \
s.data like '%nodeStates":[\{%' and \
s.userinfo_id=ui.id and \
prj.id=r.project_fk and\
ui.workgroupid=wandu.workgroupid;\
\
\
Now, before we continue, there are some things you\'92ll want to edit to be sure you\'92re getting what you actually want. In particular, you\'92ll want to change the text that says \'93r.name like '%PNoM%Test%\'92\'94 to look for the name of the run you actually want. Notice, the % is a wildcard which allows anything in it\'92s place, so the query above actually returns any run with the strings \'93PNoM\'94 and \'93Test\'94 somewhere in the middle. If I remove the last %, then it will look for runs that end in with \'93Test\'94, if I remove the first % it will look for runs that begin with \'93PNoM\'94, etc. Note you can also add to or change this section to look for a particular run (replace \'93r.name like '%PNoM%Test%'\'94 with \'93n.runid like 294\'94, to look for runs with a particular name after a specific time (as we do in the query above), etc. If you need help tweaking this query let Firat or I know.\
\
Next we need to run the query. First, on the menu bar go to, Query -> Limit Rows and make sure \'93don\'92t limit\'94 is checked. Next, click the lightening bolt button on the query menu bar (not the one with the cursor) or on the main menu bar, go to Query -> Execute (All or Selection). Depending on how large of a sample you\'92re retrieving, this can take some time. Once it finishes, you should notice a table with the data below your query and in the pane at the bottom you should see how many rows were returned. If all looks ok, it\'92s time to export this data.\
\
To export, on the main menu bar, go to Query -> Export Results.  Make sure you have csv selected, name the file, and then save it.  Now that you\'92ve exported the file it\'92s time to parse it\'85\
\
\

\b STEP 2: Parse the data so you can actually do something useful with it
\b0 \
\
If you haven\'92t already, copy the WISEcsv_1.1.py (downloaded from git) file and place it in the same directory as your new SQL results csv file. Open your terminal and navigate to that directory. Type the following command replacing \'93myData.csv\'94 with the name of the csv you want to parse.\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardeftab720\pardirnatural
\cf2 python WISEcsv.py -i myData.csv\
\
After the script runs, you should see \'93file written to myDataOut.csv\'94. That\'92s your parsed file! Get analyzing!\
\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardeftab720\pardirnatural

\b \cf2 What\'92s in the myDataOut.csv file?
\b0 \cf2 \
\
This file will output a row for each question. This row contains the following items: runID (unique id for each run), userID (id for each user per run\'97so will be different for pre and post test), username, node (WISE way of saving steps and questions), step, type (multiple choice or open response), response, prepost, gender (0=male, 1=female, 2=no answer), parent project (the master project this run was copied from), teacher, and school.\
\
Coming soon\'85 Teacher variables (self report and observation ratings)\
\
With the data in this format you can easily create pivot tables in excel to do some basic analsis of the data.\

\b \cf2 \
\
Things to know about my script\'85
\b0 \cf2 \
\
Some types of questions are more challenging to parse than others. For that reason my script does NOT parse the draw step, mach sequence questions, or table steps. Those questions just get tossed during the parse. In other words, they\'92ll be in your SQL query, but not in your \'93out.csv\'94 file\
\
WISE keeps track of revisions, my script doesn\'92t. The answer that ends up in the parsed file will be the last answer recorded.\
\
\

\b \cf2 But your script didn\'92t work! It just threw a stupid error!
\b0 \cf2 \
\
Take it back! My script is perfect!  \'85OK so it\'92s probably NOT perfect\'85Go ahead and copy and paste the trace into an email to me (nholbert@northwestern.edu). It probably wouldn\'92t hurt to also email me the csv file you were trying to parse. }